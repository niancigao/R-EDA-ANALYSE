---
title: UNIT2Aï¼šå‘é‡é‹ç®—èˆ‡åŠŸèƒ½å‘¼å«
author: Tony Chuo, NSYSU
date: "`r Sys.time()`"
output: 
  html_document:
    highlight: pygments
    theme: flatly
    css: ../etc/style.css
---

```{r  echo=F, results='hide', message=FALSE, warning=FALSE}
# Basic installation, setup & formatting.  Do not modify this code chunk.  
rm(list=ls(all=T))
knitr::opts_chunk$set(comment = NA)
knitr::opts_knit$set(global.par = TRUE)
par(cex=0.8); options(scipen=20, digits=4, width=90)
if(!require(pacman)) install.packages("pacman")
pacman::p_load(magrittr)
```
<br><hr>

### 1. å‘é‡é‹ç®— Vector Computation

ğŸ‘‰ [R:ä¸»è¦é‹ç®—ç¬¦è™Ÿ](https://www.statmethods.net/management/operators.html)<br><br>

##### 1.1 å‘é‡æ•¸å­¸é‹ç®— Mathmatical Opeartions

&emsp; â–  å‰›é–‹å§‹çš„æ™‚å€™ï¼ŒRçš„é¦–è¦åŠŸèƒ½å°±æ˜¯åšå‘é‡(`vector`)é‹ç®—<br>
&emsp; â–  å¤§å¤šæ•¸Rçš„é‹ç®—ç¬¦è™Ÿå’ŒåŠŸèƒ½å‡½æ•¸éƒ½ä¸»è¦éƒ½æ˜¯å°å‘é‡åšè¨ˆç®—<br>
&emsp; â–  <u>æ•¸å­¸é‹ç®—</u>ç¬¦è™Ÿå’ŒåŠŸèƒ½å‡½æ•¸é‹ç®—ä¹‹å¾Œæœƒç”¢ç”Ÿ<u>æ•¸å€¼å‘é‡</u><br>

ğŸŒ» Bi-Operant Math Operations act Element-wise
```{r}
c(1, 2, 3, 4) * c(1, 10, 100, 1000)
```

ğŸŒ» When the lengths of the vectors are different ...
```{r}
c(100, 200, 300, 400) / 10
```

The shorter vector are repeated silently
```{r}
c(100, 200, 300, 400) / c(10, 20)
```

There is a warning when ...
```{r}
c(10,20,30,40,50,60,70,80) + c(1,2,3)
```
<br><br>

##### 1.2 å‘é‡é‚è¼¯(æ¢ä»¶)é‹ç®— Logical/Conditional OP.

Logical Operations do __comparisons__ and produce __logical__ vectors<br>

&emsp; â–  <u>é‚è¼¯(æ¢ä»¶)é‹ç®—</u>ç¬¦è™Ÿå’ŒåŠŸèƒ½å‡½æ•¸é‹ç®—ä¹‹å¾Œæœƒç”¢ç”Ÿ<u>é‚è¼¯å‘é‡</u><br>

They compare numerics, strings, factors, Date, ...
```{r}
c(0.1, 0.2, 0.3, 0.4) > c(0, 1, 2, 3)
```

shorten vectors are also repeated
```{r}
c(100, 200, 300, 400) > 250
```

â“ what happen if I do ...
```{r eval=F}
c(200, 300) > c(100, 200, 300, 400)
```
<br>

ğŸŒ» Test for equivalence (`==`) on character and factor vectors
```{r}
c('Amy','Bob','Cindy','Danny') == 'Cindy'
```

ğŸŒ» The Set Comparison Operator : `%in%`  
```{r}
c('Amy','Bob','Cindy','Danny') %in% c('Danny','Cindy')
```

The above is the same as ...
```{r}
c('Amy','Bob','Cindy','Danny') %in% c('Cindy','Danny')
```
+ sequence in the rhs of `%in%` is not important

but different from ...
```{r}
c('Amy','Bob','Cindy','Danny') == c('Danny','Cindy')
```
+ `==` works element wise.  thus, the sequence in the rhs vector of is important

â“ What happen if I do ...
```{r eval=F}
c('Amy','Bob','Cindy','Danny') == c('Cindy','Danny')
```
<br>

##### 1.3 åç¨±æŒ‡å®š vs. å…§å®¹ç›¸ç­‰  Assignment/Equivalence  

ğŸŒ» 2 Notations of  Assignment : `=` å’Œ `<-` 
```{r}
Prob = c(0.1, 0.2, 0.3, 0.4)
Value <- c(120, 100, -50, -60)
Prob * Value
```
+ the 2 notations are identical 

ğŸŒ» Assignment (`=`) is different from Test for Eq. (`==`)  
```{r}
c(0.1, 0.2, 0.3, 0.4) == (1:4)/10
```

â“  What happen if you do  
```{r eval=F}
c(0.1, 0.2, 0.3, 0.4) = (1:4)/10
```
<br><hr>


### 2. åŠŸèƒ½èˆ‡å…¶åƒæ•¸ Functions & Their Arguments

Most R function take vectors as input (usually the first argument.)<br>
```{r}
val=c(500,20,75,400)
```

summary functions produce summaries/statistics 
```{r}
sum(val)
mean(val)
```

math functions produce vectors 
```{r}
log(val)
sqrt(val)
```

In addition to the input vector, most R function take extra arguments for options
```{r}
log(val, base=10)
```

<br><p class="wwl">
<span style="font-size:16px">`r "\U1F4A1"` Arguments of Functionsï¼š</span><br>
&emsp; â–  To be convenient and flexible, most R functions have many arguments with <z>defaults</z><br>
&emsp; â–  Place cursor on the function name and press F1 to see the online help<br>
&emsp; â–  Arguments can be given either <z>by name</z> or <z>by position</z><br>
&emsp; â–  Unnamed-arguments must be in their exact position</z><br>
&emsp; â–  Named arguments can be placed in any order</z><br>
</p class="wwl">

```{r eval=F}
help(log)
```

Default argument 
```{r}
log(1000)
```

Argument by position
```{r}
log(1000, 10)
```

Argument by names
```{r}
log(x=1000, base=10)
```

Argument by names in reverse order
```{r}
log(base=10, x=1000)
```

Quite often we need to cascade several functions, for example
```{r}
x = 10000
mean(log(sqrt(x), base=10))
```

The <z>pipe</z> operator `%>%` would make it easier to apply a series of functions
```{r}
sqrt(x) %>% log(10) %>% mean
```

<br><hr>
